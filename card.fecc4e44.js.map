{"mappings":"IEqDI,EAAa,E,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,CDrDjB,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,6ICA5F,IAAA,EAAA,EAAA,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,QASA,AAAA,CAAA,EAAA,MAAK,CAAE,oBAAoB,CAAG,CAAA,EAe9B,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,GAAG,CACP,EAAA,UAAS,CACT,EAAA,WAAU,CACV,EAAA,UAAS,CACT,EAAA,UAAS,CACT,EAAA,SAAQ,CACR,EAAA,SAAQ,CACR,EAAA,UAAS,CACT,EAAA,OAAM,CACN,EAAA,IAAG,CACH,EAAA,UAAS,CACT,EAAA,UAAS,CACT,EAAA,MAAK,CACL,EAAA,OAAM,CACN,EAAA,KAAI,EAER,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,KAAK,GACT,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,KAAK,GAET,OAAO,MAAM,CAAG,EAEhB,EAAA,SAAA,CAAmB,MAAM,CAAG,YAC5B,EAAA,IAAA,CAAc,SAAS,aAAa,CAAC,W,I,E,C,EC9CrC,EAAiB,IAAA,IAAoB,sCAAA,YAAA,GAAA,EAAuC,QAAQ,GDgDpF,MAAM,EAAN,IAAA,IAAA,GACM,EAAO,SAAS,aAAa,CAAC,UACpC,IAAI,EAAQ,IAAI,MAAM,CAAC,AAAA,EAAA,kBAAiB,CAAE,MAAM,EAC5C,EAAQ,CAAA,EACR,EAAY,EAAE,CAId,EAAW,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAA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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/runtime-6e097676eb8c6651.js","src/card.js","node_modules/@parcel/runtime-js/lib/runtime-6d902203ddf6aee2.js"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nvar $2db6d512fb2b52fe$exports = {};\n\n(parcelRequire(\"kyEFX\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse(\"[\\\"g0UFJ\\\",\\\"card.fecc4e44.js\\\",\\\"dFIUU\\\",\\\"giphy.356b0fc8.gif\\\",\\\"lhWeO\\\",\\\"index.15d5a2d7.js\\\"]\"));\n\n/* eslint-disable linebreak-style */ \nvar $1j0wn = parcelRequire(\"1j0wn\");\n\nvar $4Crae = parcelRequire(\"4Crae\");\n\nvar $gl8ib = parcelRequire(\"gl8ib\");\n\nvar $3WQbN = parcelRequire(\"3WQbN\");\n\nvar $8ggA7 = parcelRequire(\"8ggA7\");\n\nvar $1dkYF = parcelRequire(\"1dkYF\");\n\nvar $gJuA9 = parcelRequire(\"gJuA9\");\n\nvar $4wCtj = parcelRequire(\"4wCtj\");\n\nvar $io3Hd = parcelRequire(\"io3Hd\");\n\nvar $cAhzP = parcelRequire(\"cAhzP\");\n\nvar $3utQD = parcelRequire(\"3utQD\");\n(0, $4wCtj.config).searchPseudoElements = true;\n(0, $4wCtj.library).add((0, $io3Hd.faFacebook), (0, $io3Hd.faInstagram), (0, $io3Hd.faSnapchat), (0, $io3Hd.faMastodon), (0, $io3Hd.faTwitter), (0, $io3Hd.faYoutube), (0, $io3Hd.faTelegram), (0, $io3Hd.faSkype), (0, $io3Hd.faVk), (0, $io3Hd.faWhatsapp), (0, $cAhzP.faEnvelope), (0, $cAhzP.faUser), (0, $cAhzP.faPhone), (0, $cAhzP.faKey));\n(0, $4wCtj.dom).i2svg();\n(0, $4wCtj.dom).watch();\nwindow.Sharer = $4Crae;\n$gl8ib.selectors.filter = '.stretchy';\n$gl8ib.init(document.querySelector('.form1'));\nvar $2e36aa6283e791be$exports = {};\n$2e36aa6283e791be$exports = new URL(\"giphy.356b0fc8.gif\", import.meta.url).toString();\n\n\nconst $bf8f70694161f362$var$giphy = new URL($2e36aa6283e791be$exports);\nconst $bf8f70694161f362$var$form = document.querySelector('.form1');\nlet $bf8f70694161f362$var$order = '0'.repeat((0, $gJuA9.__supportedSocials).length);\nlet $bf8f70694161f362$var$bogus = false;\nlet $bf8f70694161f362$var$dataArray = [];\nlet $bf8f70694161f362$var$socialArray, $bf8f70694161f362$var$values;\n///////////////////////////////////////////////////////////////////////  INIT  //////////////////////////////////////////////////////////////\n// get part after card.html in link\nlet $bf8f70694161f362$var$pageName = (0, $gJuA9.__envPath).split('card.html')[1] || (0, $gJuA9.__envPath).split('card')[1];\nlet $bf8f70694161f362$var$isSyncOn_ = $bf8f70694161f362$var$pageName.charAt($bf8f70694161f362$var$pageName.length - 1) === '0' ? false : true;\n$bf8f70694161f362$var$pageName = $bf8f70694161f362$var$pageName.slice(0, -1);\nconst $bf8f70694161f362$var$hash = $bf8f70694161f362$var$pageName.slice(1).hashCode();\nlet $bf8f70694161f362$var$reversed = (0, $gJuA9.__reverse)($bf8f70694161f362$var$pageName, $bf8f70694161f362$var$order);\n$bf8f70694161f362$var$values = $bf8f70694161f362$var$reversed[0];\n$bf8f70694161f362$var$order = $bf8f70694161f362$var$reversed[1];\n$bf8f70694161f362$var$bogus = typeof $bf8f70694161f362$var$values === 'undefined' || $bf8f70694161f362$var$values.length === 1;\nconst $bf8f70694161f362$var$socialLinks = new (0, $3WQbN.SocialLinks)();\nfunction $bf8f70694161f362$var$createDataArray() {\n    // fixed fields\n    let keys = [\n        'user',\n        ...(0, $gJuA9.__supportedSocials),\n        'envelope',\n        'phone'\n    ];\n    $bf8f70694161f362$var$dataArray = [];\n    for(let i = 0; i < keys.length; i++){\n        const key = keys[i];\n        const value = $bf8f70694161f362$var$values[i];\n        if (key == 'user') $bf8f70694161f362$var$dataArray.push([\n            0,\n            key,\n            value\n        ]);\n        else if (key == 'envelope') $bf8f70694161f362$var$dataArray.push([\n            keys.length - 2,\n            key,\n            value\n        ]);\n        else if (key == 'phone') $bf8f70694161f362$var$dataArray.push([\n            keys.length - 1,\n            key,\n            value\n        ]);\n        else {\n            let socialOrder = parseInt($bf8f70694161f362$var$order[i - 1]);\n            $bf8f70694161f362$var$dataArray.push([\n                socialOrder,\n                key,\n                $bf8f70694161f362$var$values[socialOrder]\n            ]);\n        }\n    }\n    // dynamic fields\n    for(let j = keys.length; j < $bf8f70694161f362$var$values.length; j++)$bf8f70694161f362$var$dataArray.push([\n        keys.length,\n        -1,\n        $bf8f70694161f362$var$values[j]\n    ]);\n    $bf8f70694161f362$var$dataArray.sort();\n}\n$bf8f70694161f362$var$createDataArray();\n///////////////////////////////////////////////////////////////////////  EVENTS CALLBACKS  ///////////////////////////////////////////////////////////\nfunction $bf8f70694161f362$var$langChange(el) {\n    // check for right to left formatting\n    if (el.value === 'ar') document.dir = 'rtl';\n    else document.dir = 'ltr';\n    (0, (/*@__PURE__*/$parcel$interopDefault($1j0wn))).setLocale(el.value);\n}\nwindow.addEventListener('DOMContentLoaded', ()=>{\n    let langOptions = Array.from(document.querySelector('#lang-select').options);\n    let defaultLang = langOptions.filter((option)=>option.defaultSelected == true)[0];\n    // Language selector.\n    $bf8f70694161f362$var$langChange(defaultLang);\n});\ndocument.getElementById('lang-select').addEventListener('change', function() {\n    $bf8f70694161f362$var$langChange(this);\n}, false);\n// Decrypt button event listener\nconst $bf8f70694161f362$var$btn = document.getElementById('decrypt-button');\n$bf8f70694161f362$var$btn.addEventListener('click', function() {\n    let password = prompt('This social card seems encrypted. Enter in the key!') || '';\n    if (!password) return;\n    if (password.length < 4 || password.length > 8) $bf8f70694161f362$var$bugIfABugs(true);\n    else {\n        for ($bf8f70694161f362$var$socialArray of $bf8f70694161f362$var$dataArray)if ($bf8f70694161f362$var$socialArray[2]) $bf8f70694161f362$var$socialArray[2] = (0, $8ggA7.XORCipher).decode(password, $bf8f70694161f362$var$socialArray[2]);\n        document.getElementsByClassName('form1')[0].innerHTML = '';\n        $bf8f70694161f362$var$renderSubmittedData($bf8f70694161f362$var$dataArray);\n    }\n});\nlet $bf8f70694161f362$var$submittedSocials = 0;\nfunction $bf8f70694161f362$var$renderSubmittedData(dataArray) {\n    for ($bf8f70694161f362$var$socialArray of dataArray){\n        let key = $bf8f70694161f362$var$socialArray[1];\n        let value = $bf8f70694161f362$var$socialArray[2];\n        let link;\n        if (value != '') {\n            if ($bf8f70694161f362$var$socialLinks.isValid(key, value)) link = $bf8f70694161f362$var$socialLinks.getLink(key, value);\n            $bf8f70694161f362$var$submittedSocials += 1;\n            if (key === 'envelope') {\n                $bf8f70694161f362$var$form.insertAdjacentHTML('beforeend', `<div id=\"mail-id\"><a href=\"mailto:${value}\">${value}</a></div>`);\n                continue;\n            } else if (key === 'phone') {\n                $bf8f70694161f362$var$form.insertAdjacentHTML('beforeend', `<div id=\"phone-id\"><a href=\"tel:${value}\">${value}</a></div>`);\n                continue;\n            } else if (key === 'user') document.querySelectorAll('.user').forEach((node)=>{\n                node.innerHTML = value;\n            });\n            let x = document.createElement('I');\n            if ((0, $gJuA9.__supportedSocials).indexOf(key) >= 0) x.setAttribute('class', `fa-brands fa-${key} icon`);\n            else x.setAttribute('class', `fa fa-${key} icon`);\n            $bf8f70694161f362$var$form.appendChild(x);\n            let y = document.createElement('INPUT');\n            y.setAttribute('name', key);\n            y.setAttribute('class', 'input-field stretchy');\n            y.setAttribute('value', value);\n            y.setAttribute('type', 'text');\n            y.setAttribute('readonly', 'readonly');\n            $bf8f70694161f362$var$form.appendChild(y);\n            if (link) {\n                y.style = 'cursor: pointer;';\n                const link_ = document.createElement('a');\n                link_.style = 'display: contents;';\n                link_.setAttribute('href', link);\n                (0, $gJuA9.wrap)(y, link_);\n            }\n        }\n    }\n}\nfunction $bf8f70694161f362$var$bugIfABugs(bogus) {\n    if (!bogus) return;\n    // rollback\n    $bf8f70694161f362$var$form.innerHTML = '';\n    let img = document.createElement('img');\n    img.src = $bf8f70694161f362$var$giphy;\n    $bf8f70694161f362$var$form.appendChild(img);\n    let errorMsg = document.createElement('h2');\n    errorMsg.innerText = 'QR code or URL is probably wrong';\n    $bf8f70694161f362$var$form.appendChild(errorMsg);\n}\n$bf8f70694161f362$var$bugIfABugs($bf8f70694161f362$var$bogus);\nif (!$bf8f70694161f362$var$bogus) {\n    $bf8f70694161f362$var$renderSubmittedData($bf8f70694161f362$var$dataArray);\n    // Values over 7 result in svg images too large for the card\n    $bf8f70694161f362$var$submittedSocials = $bf8f70694161f362$var$submittedSocials > 7 ? 7 : $bf8f70694161f362$var$submittedSocials;\n    // Generate some art\n    // TODO: generated SVG position to fix\n    // if (!__isMobile()) form.insertAdjacentHTML('afterend', __generateSvg(submittedSocials))\n    const y = $bf8f70694161f362$var$form.getBoundingClientRect().top + window.scrollY;\n    window.scroll({\n        top: y,\n        behavior: 'smooth'\n    });\n    (0, $3utQD.join)(false, $bf8f70694161f362$var$hash, $bf8f70694161f362$var$isSyncOn_);\n}\ndocument.body.hidden = false;\n(0, (/*@__PURE__*/$parcel$interopDefault($1j0wn))).enableDomScan(true);\n(0, (/*@__PURE__*/$parcel$interopDefault($1j0wn))).addCatalogs((0, $1dkYF.stoneJsCatalogs));\n\n\n//# sourceMappingURL=card.fecc4e44.js.map\n","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"g0UFJ\\\",\\\"card.fecc4e44.js\\\",\\\"dFIUU\\\",\\\"giphy.356b0fc8.gif\\\",\\\"lhWeO\\\",\\\"index.15d5a2d7.js\\\"]\"));","/* eslint-disable linebreak-style */\r\nimport Stone from 'stonejs'\r\nimport * as Sharer from 'sharer.js'\r\nimport * as Stretchy from 'stretchy'\r\nimport { SocialLinks, TYPE_MOBILE } from 'social-links'\r\nimport { XORCipher } from './libs/XORCipher'\r\nimport { stoneJsCatalogs } from './libs/stoneJSCatalog'\r\nimport { wrap, __envPath, __generateSvg, __isMobile, __reverse, __supportedSocials } from './helpers'\r\nimport { library, dom, config } from '@fortawesome/fontawesome-svg-core'\r\nconfig.searchPseudoElements = true\r\nimport {\r\n    faFacebook,\r\n    faInstagram,\r\n    faSnapchat,\r\n    faMastodon,\r\n    faTwitter,\r\n    faYoutube,\r\n    faTelegram,\r\n    faSkype,\r\n    faVk,\r\n    faWhatsapp,\r\n} from '@fortawesome/free-brands-svg-icons'\r\nimport { faEnvelope, faUser, faPhone, faKey } from '@fortawesome/free-solid-svg-icons'\r\nimport { join } from './sync'\r\nlibrary.add(\r\n    faFacebook,\r\n    faInstagram,\r\n    faSnapchat,\r\n    faMastodon,\r\n    faTwitter,\r\n    faYoutube,\r\n    faTelegram,\r\n    faSkype,\r\n    faVk,\r\n    faWhatsapp,\r\n    faEnvelope,\r\n    faUser,\r\n    faPhone,\r\n    faKey,\r\n)\r\ndom.i2svg()\r\ndom.watch()\r\n\r\nwindow.Sharer = Sharer\r\n\r\nStretchy.selectors.filter = '.stretchy'\r\nStretchy.init(document.querySelector('.form1'))\r\n\r\nconst giphy = new URL('./assets/giphy.gif', import.meta.url)\r\nconst form = document.querySelector('.form1')\r\nlet order = '0'.repeat(__supportedSocials.length)\r\nlet bogus = false\r\nlet dataArray = []\r\nlet socialArray, values\r\n///////////////////////////////////////////////////////////////////////  INIT  //////////////////////////////////////////////////////////////\r\n// get part after card.html in link\r\nlet pageName = __envPath.split('card.html')[1] || __envPath.split('card')[1]\r\nlet isSyncOn_ = pageName.charAt(pageName.length - 1) === '0' ? false : true\r\npageName = pageName.slice(0, -1)\r\nconst hash = pageName.slice(1).hashCode()\r\nlet reversed = __reverse(pageName, order)\r\nvalues = reversed[0]\r\norder = reversed[1]\r\nbogus = typeof values === 'undefined' || values.length === 1\r\nconst socialLinks = new SocialLinks()\r\nfunction createDataArray() {\r\n    // fixed fields\r\n    let keys = ['user', ...__supportedSocials, 'envelope', 'phone']\r\n    dataArray = []\r\n    for (let i = 0; i < keys.length; i++) {\r\n        const key = keys[i]\r\n        const value = values[i]\r\n        if (key == 'user') {\r\n            dataArray.push([0, key, value])\r\n        } else if (key == 'envelope') {\r\n            dataArray.push([keys.length - 2, key, value])\r\n        } else if (key == 'phone') {\r\n            dataArray.push([keys.length - 1, key, value])\r\n        } else {\r\n            let socialOrder = parseInt(order[i - 1])\r\n            dataArray.push([socialOrder, key, values[socialOrder]])\r\n        }\r\n    }\r\n    // dynamic fields\r\n    for (let j = keys.length; j < values.length; j++) {\r\n        dataArray.push([keys.length, -1, values[j]])\r\n    }\r\n    dataArray.sort()\r\n}\r\ncreateDataArray()\r\n\r\n///////////////////////////////////////////////////////////////////////  EVENTS CALLBACKS  ///////////////////////////////////////////////////////////\r\nfunction langChange(el) {\r\n    // check for right to left formatting\r\n    if (el.value === 'ar') {\r\n        document.dir = 'rtl'\r\n    } else {\r\n        document.dir = 'ltr'\r\n    }\r\n    Stone.setLocale(el.value)\r\n}\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    let langOptions = Array.from(document.querySelector('#lang-select').options)\r\n    let defaultLang = langOptions.filter((option) => option.defaultSelected == true)[0]\r\n    // Language selector.\r\n    langChange(defaultLang)\r\n})\r\ndocument.getElementById('lang-select').addEventListener(\r\n    'change',\r\n    function () {\r\n        langChange(this)\r\n    },\r\n    false,\r\n)\r\n// Decrypt button event listener\r\nconst btn = document.getElementById('decrypt-button')\r\nbtn.addEventListener('click', function () {\r\n    let password = prompt('This social card seems encrypted. Enter in the key!') || ''\r\n    if(!password) return\r\n    if (password.length < 4 || password.length > 8) {\r\n        bugIfABugs(true)\r\n    } else {\r\n        for (socialArray of dataArray) {\r\n            if (socialArray[2]) {\r\n                socialArray[2] = XORCipher.decode(password, socialArray[2])\r\n            }\r\n        }\r\n        document.getElementsByClassName('form1')[0].innerHTML = ''\r\n        renderSubmittedData(dataArray)\r\n    }\r\n})\r\n\r\nlet submittedSocials = 0\r\nfunction renderSubmittedData(dataArray) {\r\n    for (socialArray of dataArray) {\r\n        let key = socialArray[1]\r\n        let value = socialArray[2]\r\n        let link\r\n        if (value != '') {\r\n            if (socialLinks.isValid(key, value)) {\r\n                link = socialLinks.getLink(key, value)\r\n            }\r\n            submittedSocials += 1\r\n            if (key === 'envelope') {\r\n                form.insertAdjacentHTML('beforeend', `<div id=\"mail-id\"><a href=\"mailto:${value}\">${value}</a></div>`)\r\n                continue\r\n            } else if (key === 'phone') {\r\n                form.insertAdjacentHTML('beforeend', `<div id=\"phone-id\"><a href=\"tel:${value}\">${value}</a></div>`)\r\n                continue\r\n            } else if (key === 'user') {\r\n                document.querySelectorAll('.user').forEach((node) => {\r\n                    node.innerHTML = value\r\n                })\r\n            }\r\n            let x = document.createElement('I')\r\n            if (__supportedSocials.indexOf(key) >= 0) x.setAttribute('class', `fa-brands fa-${key} icon`)\r\n            else x.setAttribute('class', `fa fa-${key} icon`)\r\n\r\n            form.appendChild(x)\r\n            let y = document.createElement('INPUT')\r\n            y.setAttribute('name', key)\r\n            y.setAttribute('class', 'input-field stretchy')\r\n            y.setAttribute('value', value)\r\n            y.setAttribute('type', 'text')\r\n            y.setAttribute('readonly', 'readonly')\r\n            form.appendChild(y)\r\n\r\n            if (link) {\r\n                y.style = 'cursor: pointer;'\r\n                const link_ = document.createElement('a')\r\n                link_.style = 'display: contents;'\r\n                link_.setAttribute('href', link)\r\n                wrap(y, link_)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction bugIfABugs(bogus) {\r\n    if (!bogus) return\r\n    // rollback\r\n    form.innerHTML = ''\r\n    let img = document.createElement('img')\r\n    img.src = giphy\r\n    form.appendChild(img)\r\n    let errorMsg = document.createElement('h2')\r\n    errorMsg.innerText = 'QR code or URL is probably wrong'\r\n    form.appendChild(errorMsg)\r\n}\r\nbugIfABugs(bogus)\r\nif (!bogus) {\r\n    renderSubmittedData(dataArray)\r\n    // Values over 7 result in svg images too large for the card\r\n    submittedSocials = submittedSocials > 7 ? 7 : submittedSocials\r\n    // Generate some art\r\n    // TODO: generated SVG position to fix\r\n    // if (!__isMobile()) form.insertAdjacentHTML('afterend', __generateSvg(submittedSocials))\r\n    const y = form.getBoundingClientRect().top + window.scrollY\r\n    window.scroll({\r\n        top: y,\r\n        behavior: 'smooth',\r\n    })\r\n\r\n    join(false, hash, isSyncOn_)\r\n}\r\n\r\ndocument.body.hidden = false\r\nStone.enableDomScan(true)\r\nStone.addCatalogs(stoneJsCatalogs)\r\n","module.exports = new __parcel__URL__(\"giphy.356b0fc8.gif\").toString();"],"names":["$bf8f70694161f362$var$socialArray","$bf8f70694161f362$var$values","$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","URL","url","toString","JSON","parse","$1j0wn","$4Crae","$gl8ib","$3WQbN","$8ggA7","$1dkYF","$gJuA9","$4wCtj","$io3Hd","$cAhzP","$3utQD","config","searchPseudoElements","library","add","faFacebook","faInstagram","faSnapchat","faMastodon","faTwitter","faYoutube","faTelegram","faSkype","faVk","faWhatsapp","faEnvelope","faUser","faPhone","faKey","dom","i2svg","watch","Sharer","selectors","filter","document","querySelector","$2e36aa6283e791be$exports","$bf8f70694161f362$var$giphy","$bf8f70694161f362$var$form","$bf8f70694161f362$var$order","repeat","__supportedSocials","length","$bf8f70694161f362$var$bogus","$bf8f70694161f362$var$dataArray","$bf8f70694161f362$var$pageName","__envPath","split","$bf8f70694161f362$var$isSyncOn_","charAt","$bf8f70694161f362$var$hash","slice","hashCode","$bf8f70694161f362$var$reversed","__reverse","$bf8f70694161f362$var$socialLinks","SocialLinks","$bf8f70694161f362$var$langChange","el","value","dir","setLocale","$bf8f70694161f362$var$createDataArray","keys","i","key","push","socialOrder","parseInt","j","sort","addEventListener","langOptions","Array","from","options","option","defaultSelected","getElementById","$bf8f70694161f362$var$btn","password","prompt","$bf8f70694161f362$var$bugIfABugs","XORCipher","decode","getElementsByClassName","innerHTML","$bf8f70694161f362$var$renderSubmittedData","$bf8f70694161f362$var$submittedSocials","dataArray","link","isValid","getLink","insertAdjacentHTML","querySelectorAll","forEach","node","x","createElement","indexOf","setAttribute","appendChild","y","style","link_","wrap","bogus","img","src","errorMsg","innerText","getBoundingClientRect","top","scrollY","scroll","behavior","join","body","hidden","enableDomScan","addCatalogs","stoneJsCatalogs"],"version":3,"file":"card.fecc4e44.js.map"}